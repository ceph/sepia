<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Browser Refuses SSL Certificates &mdash; Sepia -- Notes on the test lab for the Ceph project</title>
    
    <link rel="stylesheet" href="../../_static/sepia.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Sepia -- Notes on the test lab for the Ceph project" href="../../" />
    <link rel="up" title="Dell’s DRAC out-of-band management system" href="../" />
    <link rel="next" title="Network" href="../../network/" />
    <link rel="prev" title="SSH RSA keys must be &lt;=2047 bits" href="../ssh-keys/" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../network/" title="Network"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../ssh-keys/" title="SSH RSA keys must be &lt;=2047 bits"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Sepia -- Notes on the test lab for the Ceph project</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../" accesskey="U">Dell&#8217;s DRAC out-of-band management system</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="browser-refuses-ssl-certificates">
<h1>Browser Refuses SSL Certificates<a class="headerlink" href="#browser-refuses-ssl-certificates" title="Permalink to this headline">¶</a></h1>
<div class="section" id="problem">
<h2>Problem<a class="headerlink" href="#problem" title="Permalink to this headline">¶</a></h2>
<p>Out of the box, DRAC comes with a snakeoil SSL certificate. All the
boxes seem to be signed by the same CA, with the same CN and the same
serial number. Reusing a serial number is something that a CA is not
meant to ever do, hence a lot of browsers will complain about
connecting to the iDRAC web interface <em>on the second server</em> you use.</p>
</div>
<div class="section" id="workaround">
<h2>Workaround<a class="headerlink" href="#workaround" title="Permalink to this headline">¶</a></h2>
<p>With Chromium v18 or later, use this to get a browser instance that
has no memory of previous certificates:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">chromium</span><span class="o">-</span><span class="n">browser</span> <span class="o">--</span><span class="n">temp</span><span class="o">-</span><span class="n">profile</span>
</pre></div>
</div>
<p>Even better: with Firefox,</p>
<blockquote>
<div><ul class="simple">
<li>use <a class="reference external" href="about:config">about:config</a> to set browser.cache.disk_cache_ssl false</li>
<li>remove/rename/delete &#8220;cert8.db&#8221; from your browser profile directory</li>
</ul>
</div></blockquote>
<p>Now, Firefox will complain, but if you save your acceptance of the
security exception, it will remember for the next login.  Firefox
also seems better about actually being able to launch the Java
remote console application.</p>
</div>
<div class="section" id="fix">
<h2>Fix<a class="headerlink" href="#fix" title="Permalink to this headline">¶</a></h2>
<p>Replace iDRAC certificates with ones signed by the local organization
(TODO).</p>
<p>Maybe even use <a class="reference external" href="http://www.imperialviolet.org/2011/06/16/dnssecchrome.html">DANE</a>, to avoid the snakeoil cert problem (TODO).</p>
</div>
<div class="section" id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://comments.gmane.org/gmane.linux.hardware.dell.poweredge/41969">http://comments.gmane.org/gmane.linux.hardware.dell.poweredge/41969</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../servers/">Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bios/">BIOS settings</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Dell&#8217;s DRAC out-of-band management system</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../remote-console-focus/">Remote console loses keyboard focus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../remote-console-integration/">Remote console doesn&#8217;t launch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../remote-console-keys/">Arrow keys etc don&#8217;t work in DRAC remote console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../serial-console-in-use/">How to fix serial console in use error</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ssh-keys/">SSH RSA keys must be &lt;=2047 bits</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Browser Refuses SSL Certificates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#problem">Problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="#workaround">Workaround</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fix">Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resources">Resources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../network/">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../adding_users/">Requesting Lab Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../adding_users/#adding-users-lab-admins">Adding users (lab admins)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gitbuilder/">Notes creating gitbuilder-ceph-rpm-fedora22-amd64-basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ipmi/">Using IPMI on physical machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../new_user/">New user basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../serial-console/">Using serial consoles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vps/">VMs and containers</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../network/" title="Network"
             >next</a> |</li>
        <li class="right" >
          <a href="../ssh-keys/" title="SSH RSA keys must be &lt;=2047 bits"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Sepia -- Notes on the test lab for the Ceph project</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../" >Dell&#8217;s DRAC out-of-band management system</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, New Dream Network.
    </div>
  </body>
</html>